async function s(r=3,{signal:t}={}){const e=`https://jsonplaceholder.typicode.com/users?_limit=${r}`,o=await fetch(e,{signal:t});if(!o.ok)throw new Error(`HTTP ${o.status}`);return(await o.json()).map(n=>({id:n.id,name:n.name,role:n.company?.catchPhrase??"Team member",profileUrl:`https://jsonplaceholder.typicode.com/users/${n.id}`,photo:`https://picsum.photos/seed/emp-${n.id}/640/400`}))}function a(r,t){const e=r.content.cloneNode(!0),o=e.querySelector(".employee-card__photo"),c=e.querySelector(".employee-card__name"),n=e.querySelector(".employee-card__role"),l=e.querySelector(".employee-card__cta");return o.src=t.photo,o.alt=`Фото: ${t.name}`,c.textContent=t.name,n.textContent=t.role,l.href=t.profileUrl,e}async function i(){const r=document.querySelector(".team__list"),t=document.getElementById("employee-card-tpl"),e=new AbortController;try{const o=await s(6,{signal:e.signal}),c=document.createDocumentFragment();for(const n of o)c.append(a(t,n));r.innerHTML="",r.append(c)}catch(o){console.error(o)}finally{console.log("finally")}return()=>e.abort()}export{i as initAbout};
